<?xml version="1.0" encoding="iso-8859-1"?>
<root>
    <windowclass name="rr_options">
		<sheetdata>
			<button_iedit name="options_iedit">
				<anchored position="insidebottomright" offset="10,10" />
				<tooltip textres="char_skills_tooltip_edit" />
				<edittarget>contents</edittarget>
				<!-- <script>
					function onValueChanged()
						local bEditMode = (getValue() == 1);
						
						window.contents.subwindow.checks.update();
						window.contents.subwindow.saves.update();
						window.contents.subwindow.skills.update();
						window.contents.subwindow.dice.update();
					end
				</script> -->
			</button_iedit>

			<subwindow name="contents">
				<anchored>
					<top offset="0" />
					<bottom offset="-35" />
					<left offset="0" />
					<right offset="-15" />
				</anchored>
				<class>rr_options_contents</class>
				<activate />
			</subwindow>
			<scrollbar>
				<anchored to="contents" offset="-5,-10"/>
				<target>contents</target>
			</scrollbar>
        </sheetdata>
    </windowclass>

 	<windowclass name="rr_options_contents">
		<sheetdata>
			<anchor_content_utilitybox_top />
			<anchor_content_utilitybox_bottom />
			<label name="label_show">
				<script>
					function onInit()
						setColor(ColorManager.getSidebarRecordTextColor());
					end
				</script>
				<anchored>
					<top parent="contentanchor" />
					<left offset="10" />
				</anchored>
				<static textres="RR_label_show" />
			</label>
			<label name="label_name">
				<script>
					function onInit()
						setColor(ColorManager.getSidebarRecordTextColor());
					end
				</script>
				<anchored>
					<top parent="contentanchor" />
					<left offset="80" />
				</anchored>
				<static textres="RR_label_name" />
				<center />
			</label>
			<label name="label_name_short" width="200">
				<script>
					function onInit()
						setColor(ColorManager.getSidebarRecordTextColor());
					end
				</script>
				<anchored>
					<top parent="contentanchor" />
					<left offset="190" />
				</anchored>
				<static textres="RR_label_shortname" />
			</label>
			
			<list_content_framed_groupbox name="list" >
				<datasource>.rolls</datasource>
				<columns fillwidth="true"/>
				<class>newDoodad</class>
				<sortby><field>sort_order</field></sortby>
				<anchored>
					<top parent="contentanchor" anchor="bottom" relation="relative" offset="5" />
					<!-- <bottom parent="footeranchor" anchor="top" offset="-10"/> -->
					<left offset="0" />
					<right offset="0" />
				</anchored>
			</list_content_framed_groupbox>
			<scrollbar_content_list />

		</sheetdata>
	</windowclass>

	<windowclass name="newDoodad">
		<script>
			function toggleList()
				if status.getValue() == 0 then
					status.setValue(1);
					options_list.setVisible(false);
				else
					status.setValue(0);
					options_list.setVisible(true);
				end
			end
		</script>
		<sheetdata>
			<anchor_content_top />

			<string_content_static_top name="display_name">
				<font>sheetlabel</font>
				<script>
					function onClickDown(button, x, y)
						return true;
					end
					function onClickRelease(button, x, y)
						window.toggleList();
						return true;
					end
				</script>
				<center/>
			</string_content_static_top>

			<button_collapse_expand_toggle name="status">
				<anchored to="display_name" position="lefthigh" offset="-20,0" />
				<disabled />
				<colortarget>display_name</colortarget>
			</button_collapse_expand_toggle>

			<list_content_noscroll_alternating_top name="options_list">
				<datasource>.list</datasource>
				<class>item_entry</class>
				<sortby><control>name</control></sortby>
				<columns><width>230</width></columns>
				<script file="console/scripts/rr_console_options.lua" />
			</list_content_noscroll_alternating_top>

			<spacer_content_top />
			<button_iadd name="list_iadd">
				<anchored to="display_name" position="insidetopright" offset="3,0" />
				<target>options_list</target>
			</button_iadd>
			<buttonfield name="show">
				<anchored width="130" height="20" to="display_name" position="insidetopright" relation="relative" offset="25,0" />
				<pressed offset="1,1" />
				<state textres="RR_label_shownOnConsole" frame="buttonup" frameoffset="2,2,2,2"/>
				<state textres="RR_label_hiddenOnConsole" frame="buttondown" frameoffset="2,2,2,2"/>
				<script>
					function onInit()
						setColor(ColorManager.getButtonTextColor());
					end
				</script>
			</buttonfield>

		</sheetdata>
	</windowclass>
	
	<!-- List Items-->
	<windowclass name="item_entry">
		<script file="console/scripts/rr_console_options_item.lua" />
		<sheetdata>
			<anchor_listitem_left_sm name="leftanchor" />
			<anchor_listitem_right_sm name="rightanchor" />

			<button_idelete name="idelete">
				<anchored to="rightanchor">
					<top />
					<right anchor="left" relation="relative" offset="-2" />
				</anchored>
			</button_idelete>
			
			<RR_button_selector_star name="show">
				<anchored position="insidetopleft" offset="2,6" />
			</RR_button_selector_star>
			<string_textlistitem name="name_short">
				<anchored to="rightanchor" width="75">
					<top />
					<right anchor="left" relation="relative" offset="-7" />
				</anchored>
				<multilinespacing>20</multilinespacing>
				<tabtarget prev="name"/>
			</string_textlistitem>
			<string_textlistitem name="name">
				<anchored to="rightanchor">
					<top />
					<left parent="" offset="20" />
					<right anchor="left" relation="relative" offset="-7" />
				</anchored>
				<multilinespacing>20</multilinespacing>
				<tabtarget next="name_short" />
			</string_textlistitem>
		</sheetdata>
	</windowclass>
</root>