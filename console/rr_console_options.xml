<?xml version="1.0" encoding="iso-8859-1"?>
<root>
	<!-- TODO add collapse and expand all for lists-->
    <windowclass name="rr_options">
		<sheetdata>
			<anchor_content_top />
			<anchor_content_bottom />
			<area_content_framed_groupbox_bottom name="area_controls">
				<anchored height="20" />
			</area_content_framed_groupbox_bottom>
			<button_iedit name="sheet_iedit">
				<anchored to="area_controls" position="insidetopright" offset="0,0" />
				<edittarget>content</edittarget>
			</button_iedit>
			<sub_content_scroll name="content">
				<class>rr_options_contents</class>
			</sub_content_scroll>
			<scrollbar_content />
        </sheetdata>
    </windowclass>

 	<windowclass name="rr_options_contents">
		<sheetdata>
			<anchor_content_top />
			<anchor_content_bottom />
			<list_content_framed_groupbox_alternating name="list" >
				<datasource>.rolls</datasource>
				<class>rr_options_lists</class>
				<sortby><field>sort_order</field></sortby>
			</list_content_framed_groupbox_alternating>
		</sheetdata>
	</windowclass>

	<windowclass name="rr_options_lists">
		<script>
			function toggleList()
				if status.getValue() == 0 then
					status.setValue(1);
					options_list.setVisible(false);
				else
					status.setValue(0);
					options_list.setVisible(true);
				end
			end
		</script>
		<sheetdata>
			<anchor_content_top />
			<string_content_static_top name="display_name">
				<font>sheetlabel</font>
				<script>
					function onClickDown(button, x, y)
						return true;
					end
					function onClickRelease(button, x, y)
						window.toggleList();
						return true;
					end
				</script>
				<center/>
			</string_content_static_top>

			<button_collapse_expand_toggle name="status">
				<anchored to="display_name" position="lefthigh" offset="-20,0" />
				<disabled />
				<colortarget>display_name</colortarget>
			</button_collapse_expand_toggle>

			<list_content_noscroll_alternating_top name="options_list">
				<datasource>.list</datasource>
				<class>item_entry</class>
				<sortby><control>name</control></sortby>
				<columns><width>350</width></columns>
				<script file="console/scripts/rr_console_options.lua" />
			</list_content_noscroll_alternating_top>

			<spacer_content_top />
			<button_iadd name="list_iadd">
				<anchored to="display_name" position="insidetopright" offset="3,0" />
				<target>options_list</target>
			</button_iadd>
			<buttonfield name="show">
				<anchored width="130" height="20" to="display_name" position="insidetopright" relation="relative" offset="25,0" />
				<pressed offset="1,1" />
				<state textres="RR_label_shownOnConsole" frame="buttonup" frameoffset="2,2,2,2"/>
				<state textres="RR_label_hiddenOnConsole" frame="buttondown" frameoffset="2,2,2,2"/>
				<script>
					function onInit()
						setColor(ColorManager.getButtonTextColor());
					end
				</script>
			</buttonfield>
		</sheetdata>
	</windowclass>
	
	<!-- List Items-->
	<windowclass name="item_entry">
		<script file="console/scripts/rr_console_options_item.lua" />
		<sheetdata>
			<anchor_listitem_left_sm />
			<anchor_listitem_right_sm />

			<button_listitem_idelete name="idelete">
				<editmode>sheet_iedit</editmode>
			</button_listitem_idelete>
			<button_listitem_checkbox_left name="show">
				<tooltip textres="RR_tooltip_show_combobox"/>
			</button_listitem_checkbox_left>
			<button_listitem_checkbox_left name="show_expander">
				<tooltip textres="RR_tooltip_show_bigButton"/>
			</button_listitem_checkbox_left>
			<string_listitem_right_text name="name_short">
				<tabtarget prev="name"/>
				<tooltip textres="RR_label_shortname"/>
			</string_listitem_right_text>
			<string_listitem_center_underline name="name">
				<tabtarget next="name_short" />
			</string_listitem_center_underline>
		</sheetdata>
	</windowclass>
</root>